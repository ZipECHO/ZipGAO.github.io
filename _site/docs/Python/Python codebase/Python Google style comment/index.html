<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2709176-10"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2709176-10', { 'anonymize_ip': true }); </script> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Python Google style comment | Echo</title><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Python Google style comment" /><meta property="og:locale" content="en_US" /><meta name="description" content="A Jekyll theme for documentation" /><meta property="og:description" content="A Jekyll theme for documentation" /><link rel="canonical" href="http://localhost:4000/docs/Python/Python%20codebase/Python%20Google%20style%20comment/" /><meta property="og:url" content="http://localhost:4000/docs/Python/Python%20codebase/Python%20Google%20style%20comment/" /><meta property="og:site_name" content="Echo" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-06-18T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Python Google style comment" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-06-18T00:00:00+08:00","datePublished":"2020-06-18T00:00:00+08:00","description":"A Jekyll theme for documentation","headline":"Python Google style comment","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/docs/Python/Python%20codebase/Python%20Google%20style%20comment/"},"url":"http://localhost:4000/docs/Python/Python%20codebase/Python%20Google%20style%20comment/"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Echo </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/tools" class="nav-list-link">Tools</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/tools/2022-06-18-SSH%20%E9%85%8D%E7%BD%AE%E5%85%AC%E9%92%A5%E7%99%BB%E5%BD%95/" class="nav-list-link">SSH 配置公钥登录</a><li class="nav-list-item "><a href="http://localhost:4000/docs/tools/2022-06-18-%E9%85%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%8C%E9%87%8D%E8%AE%A4%E8%AF%81%E4%BB%A5%E5%8F%8A%E5%85%AC%E9%92%A5%E8%AE%A4%E8%AF%81%E7%99%BB%E5%BD%95/" class="nav-list-link">社交组服务器双重认证设置</a></ul><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Python/python/" class="nav-list-link">Python</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Python/pandas/pandas/" class="nav-list-link">Pandas</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/docs/Python/pandas/2022-05-31-Pandas%E4%BB%8EPython%20dict%E4%B8%AD%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%B9%E6%B3%95/" class="nav-list-link">Pandas 从Python dict中加载数据</a></ul><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Python/Python%20codebase/python%20codebase/" class="nav-list-link">Python codebase</a><ul class="nav-list"><li class="nav-list-item active"> <a href="http://localhost:4000/docs/Python/Python%20codebase/Python%20Google%20style%20comment/" class="nav-list-link active">Python Google style comment</a><li class="nav-list-item "> <a href="http://localhost:4000/docs/Python/Python%20codebase/python%E5%A4%9A%E8%BF%9B%E7%A8%8B/" class="nav-list-link">Python 多进程</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Python/pytorch/pytorch/" class="nav-list-link">Pytorch</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/docs/Python/pytorch/Pytorch%20%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5%E5%90%88%E9%9B%86/" class="nav-list-link">PyTorch常用代码段</a></ul></ul></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Echo" aria-label="Search Echo" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://github.com/ZipGao/" class="site-button" > GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/Python/python/">Python</a><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/Python/Python%20codebase/python%20codebase/">Python codebase</a><li class="breadcrumb-nav-list-item"><span>Python Google style comment</span></ol></nav><div id="main-content" class="main-content" role="main"><h1 id="python-google-style-comment"> <a href="#python-google-style-comment" class="anchor-heading" aria-labelledby="python-google-style-comment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Python Google style comment</h1><p><small>Created: June 17, 2022</small><br /> <small>Tags: #python, #规范</small></p><p>作用：确保对模块, 函数, 方法和行内注释使用正确的风格</p><h2 id="文档字符串"> <a href="#文档字符串" class="anchor-heading" aria-labelledby="文档字符串"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>文档字符串</strong></h2><p>Python有一种独一无二的的注释方式: 使用文档字符串. 文档字符串是包, 模块, 类或函数里的第一个语句. 这些字符串可以通过对象的 <code class="language-plaintext highlighter-rouge">__doc__</code> 成员被自动提取, 并且被 <code class="language-plaintext highlighter-rouge">pydoc</code> 所用. (你可以在你的模块上运行pydoc试一把, 看看它长什么样). 我们对文档字符串的惯例是使用三重双引号 <code class="language-plaintext highlighter-rouge">”””</code>( PEP-257 ). 一个文档字符串应该这样组织: 首先是一行以句号, 问号或惊叹号结尾的概述(或者该文档字符串单纯只有一行). 接着是一个空行. 接着是文档字符串剩下的部分, 它应该与文档字符串的第一行的第一个引号对齐. 下面有更多文档字符串的格式化规范.</p><h2 id="模块"> <a href="#模块" class="anchor-heading" aria-labelledby="模块"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>模块</strong></h2><p>每个文件应该包含一个许可样板. 根据项目使用的许可(例如, Apache 2.0, BSD, LGPL, GPL), 选择合适的样板. 其开头应是对模块内容和用法的描述.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span> <span class="n">one</span><span class="o">-</span><span class="n">line</span> <span class="n">summary</span> <span class="n">of</span> <span class="n">the</span> <span class="n">module</span> <span class="ow">or</span> <span class="n">program</span><span class="p">,</span> <span class="n">terminated</span> <span class="n">by</span> <span class="n">a</span> <span class="n">period</span><span class="p">.</span>

<span class="n">Leave</span> <span class="n">one</span> <span class="n">blank</span> <span class="n">line</span><span class="p">.</span> <span class="n">The</span> <span class="n">rest</span> <span class="n">of</span> <span class="n">this</span> <span class="n">docstring</span> <span class="n">should</span> 
<span class="n">contain</span> <span class="n">an</span> <span class="n">overall</span> <span class="n">description</span> <span class="n">of</span> <span class="n">the</span> <span class="n">module</span> <span class="ow">or</span> <span class="n">program</span><span class="p">.</span>  
<span class="n">Optionally</span><span class="p">,</span> <span class="n">it</span> <span class="n">may</span> <span class="n">also</span> <span class="n">contain</span> <span class="n">a</span> <span class="n">brief</span> <span class="n">description</span> <span class="n">of</span> <span class="n">exported</span> 
<span class="n">classes</span> <span class="ow">and</span> <span class="n">functions</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="n">use</span> <span class="n">examples</span><span class="p">.</span>

<span class="n">Typical</span> <span class="n">usage</span> <span class="n">example</span><span class="p">:</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">ClassFoo</span><span class="p">()</span><span class="n">bar</span> <span class="o">=</span> <span class="n">foo</span><span class="p">.</span><span class="n">FunctionBar</span><span class="p">()</span>
</code></pre></div></div><h2 id="函数和方法"> <a href="#函数和方法" class="anchor-heading" aria-labelledby="函数和方法"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>函数和方法</strong></h2><p>下文所指的函数,包括函数, 方法, 以及生成器.</p><p>一个函数必须要有文档字符串, 除非它满足以下条件:</p><ol><li>外部不可见<li>非常短小<li>简单明了</ol><p>文档字符串应该包含函数做什么, 以及输入和输出的详细描述. 通常, 不应该描述”怎么做”, 除非是一些复杂的算法. 文档字符串应该提供足够的信息, 当别人编写代码调用该函数时, 他不需要看一行代码, 只要看文档字符串就可以了. 对于复杂的代码, 在代码旁边加注释会比使用文档字符串更有意义. 覆盖基类的子类方法应有一个类似 <code class="language-plaintext highlighter-rouge">See base class</code> 的简单注释来指引读者到基类方法的文档注释.若重载的子类方法和基类方法有很大不同,那么注释中应该指明这些信息.</p><p>关于函数的几个方面应该在特定的小节中进行描述记录， 这几个方面如下文所述. 每节应该以一个标题行开始. 标题行以冒号结尾. 除标题行外, 节的其他内容应被缩进2个空格.</p><p><strong>Args:</strong>列出每个参数的名字, 并在名字后使用一个冒号和一个空格, 分隔对该参数的描述.如果描述太长超过了单行80字符,使用2或者4个空格的悬挂缩进(与文件其他部分保持一致). 描述应该包括所需的类型和含义. 如果一个函数接受*foo(可变长度参数列表)或者<strong>bar (任意关键字参数), 应该详细列出*foo和</strong>bar.<strong>Returns: (或者 Yields: 用于生成器)</strong>描述返回值的类型和语义. 如果函数返回None, 这一部分可以省略.<strong>Raises:</strong>列出与接口有关的所有异常.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">**</span><span class="n">def</span><span class="o">**</span> <span class="n">fetch_smalltable_rows</span><span class="p">(</span><span class="n">table_handle</span><span class="p">:</span> <span class="n">smalltable</span><span class="p">.</span><span class="n">Table</span><span class="p">,</span>
                        <span class="n">keys</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span>
                        <span class="n">require_all_keys</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="o">**</span><span class="bp">False</span><span class="o">**</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="o">*</span><span class="s">"""Fetches rows from a Smalltable.    
Retrieves rows pertaining to the given keys from the Table instance represented by table_handle.  
String keys will be UTF-8 encoded.    
Args:        
		table_handle: An open smalltable.Table instance.        
		keys: A sequence of strings representing the key of each table row to fetch.  
					String keys will be UTF-8 encoded.        
		require_all_keys: Optional; If require_all_keys is True only rows with values set for all keys will be returned.    
Returns: 
		A dict mapping keys to the corresponding table row data fetched. 
		Each row is represented as a tuple of strings. For example:        
		
		{b'Serak': ('Rigel VII', 'Preparer'),        
		b'Zim': ('Irk', 'Invader'),        
		b'Lrrr': ('Omicron Persei 8', 'Emperor')}    
		    
		Returned keys are always bytes.  If a key from the keys argument is 
		missing from the dictionary, then that row was not found in the        
		table (and require_all_keys must have been False).    
Raises: 
		IOError: An error occurred accessing the smalltable.    """</span><span class="o">*</span>
</code></pre></div></div><p>在 <code class="language-plaintext highlighter-rouge">Args:</code> 上进行换行也是可以的:</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">**</span><span class="n">def</span><span class="o">**</span> <span class="n">fetch_smalltable_rows</span><span class="p">(</span><span class="n">table_handle</span><span class="p">:</span> <span class="n">smalltable</span><span class="p">.</span><span class="n">Table</span><span class="p">,</span>
                        <span class="n">keys</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span>
                        <span class="n">require_all_keys</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="o">**</span><span class="bp">False</span><span class="o">**</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="o">*</span><span class="s">"""Fetches rows from a Smalltable.    
Retrieves rows pertaining to the given keys from the Table instance
represented by table_handle.  String keys will be UTF-8 encoded.    

Args:    
table_handle: 
		An open small table.Table instance.   
keys: 
		A sequence of strings representing the key of each table row to fetch. String keys will be UTF-8 encoded.    
require_all_keys: 
		Optional; If require_all_keys is True only rows with values set for all keys will be returned.    

Returns:    
A dict mapping keys to the corresponding table row data    
fetched. Each row is represented as a tuple of strings. 

For example:    
{b'Serak': ('Rigel VII', 'Preparer'),    
b'Zim': ('Irk', 'Invader'),    
b'Lrrr': ('Omicron Persei 8', 'Emperor')}    
Returned keys are always bytes.  If a key from the keys argument is 
missing from the dictionary, then that row was not found in the 
table (and require_all_keys must have been False).    

Raises:    
IOError: An error occurred accessing the smalltable. 
"""</span><span class="o">*</span>
</code></pre></div></div><h2 id="类"> <a href="#类" class="anchor-heading" aria-labelledby="类"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>类</strong></h2><p>类应该在其定义下有一个用于描述该类的文档字符串. 如果你的类有公共属性(Attributes), 那么文档中应该有一个属性(Attributes)段. 并且应该遵守和函数参数相同的格式.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">**</span><span class="n">class</span><span class="o">**</span> <span class="o">**</span><span class="n">SampleClass</span><span class="o">**</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="o">*</span><span class="s">"""Summary of class here.    
		
		Longer class information....    
		Longer class information....  
  
		Attributes:        
				likes_spam: A boolean indicating if we like SPAM or not.        
				eggs: An integer count of the eggs we have laid.    
		"""</span><span class="o">*</span>
		
		<span class="o">**</span><span class="n">def</span><span class="o">**</span> <span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">likes_spam</span><span class="o">=**</span><span class="bp">False</span><span class="o">**</span><span class="p">):</span>
        <span class="o">*</span><span class="s">"""Inits SampleClass with blah."""</span><span class="o">*</span>
				<span class="bp">self</span><span class="p">.</span><span class="n">likes_spam</span> <span class="o">=</span> <span class="n">likes_spam</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">eggs</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="o">**</span><span class="n">def</span><span class="o">**</span> <span class="n">public_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">*</span><span class="s">"""Performs operation blah."""</span><span class="o">*</span>
</code></pre></div></div><h2 id="块注释和行注释"> <a href="#块注释和行注释" class="anchor-heading" aria-labelledby="块注释和行注释"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>块注释和行注释</strong></h2><p>最需要写注释的是代码中那些技巧性的部分. 如果你在下次 代码审查 的时候必须解释一下, 那么你应该现在就给它写注释. 对于复杂的操作, 应该在其操作开始前写上若干行注释. 对于不是一目了然的代码, 应在其行尾添加注释.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">*</span><span class="c1"># We use a weighted dictionary search to find out where i is in
# the array.  We extrapolate position based on the largest num
# in the array and the array size and then do binary search to
# get the exact number.*
</span>
<span class="o">**</span><span class="k">if</span><span class="o">**</span> <span class="n">i</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>   <span class="o">*</span><span class="c1"># True if i is 0 or a power of 2.*
</span></code></pre></div></div><p>为了提高可读性, 注释应该至少离开代码2个空格.</p><p>另一方面, 绝不要描述代码. 假设阅读代码的人比你更懂Python, 他只是不知道你的代码要做什么.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">*</span><span class="c1"># BAD COMMENT: Now go through the b array and make sure whenever i occurs
# the next element is i+1*
</span></code></pre></div></div><p>转自：</p><p><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-python-styleguide/python_style_rules/#section-8">Python风格规范</a></p><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 Patrick Marsceill. Distributed by an <a href="https://github.com/just-the-docs/just-the-docs/tree/main/LICENSE.txt">MIT license.</a> <a href="https://www.netlify.com/">This site is powered by Netlify.</a></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/ZipGao//tree/main/docs/Python/Python codebase/Python Google style comment.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div>
