<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2709176-10"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2709176-10', { 'anonymize_ip': true }); </script> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>社交组服务器双重认证设置 | Echo</title><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="社交组服务器双重认证设置" /><meta property="og:locale" content="en_US" /><meta name="description" content="A Jekyll theme for documentation" /><meta property="og:description" content="A Jekyll theme for documentation" /><link rel="canonical" href="http://localhost:4000/docs/tools/2022-06-18-%E9%85%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%8C%E9%87%8D%E8%AE%A4%E8%AF%81%E4%BB%A5%E5%8F%8A%E5%85%AC%E9%92%A5%E8%AE%A4%E8%AF%81%E7%99%BB%E5%BD%95/" /><meta property="og:url" content="http://localhost:4000/docs/tools/2022-06-18-%E9%85%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%8C%E9%87%8D%E8%AE%A4%E8%AF%81%E4%BB%A5%E5%8F%8A%E5%85%AC%E9%92%A5%E8%AE%A4%E8%AF%81%E7%99%BB%E5%BD%95/" /><meta property="og:site_name" content="Echo" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-05-31T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="社交组服务器双重认证设置" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-05-31T00:00:00+08:00","datePublished":"2020-05-31T00:00:00+08:00","description":"A Jekyll theme for documentation","headline":"社交组服务器双重认证设置","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/docs/tools/2022-06-18-%E9%85%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%8C%E9%87%8D%E8%AE%A4%E8%AF%81%E4%BB%A5%E5%8F%8A%E5%85%AC%E9%92%A5%E8%AE%A4%E8%AF%81%E7%99%BB%E5%BD%95/"},"url":"http://localhost:4000/docs/tools/2022-06-18-%E9%85%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%8C%E9%87%8D%E8%AE%A4%E8%AF%81%E4%BB%A5%E5%8F%8A%E5%85%AC%E9%92%A5%E8%AE%A4%E8%AF%81%E7%99%BB%E5%BD%95/"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Echo </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/tools" class="nav-list-link">Tools</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/tools/2022-06-18-SSH%20%E9%85%8D%E7%BD%AE%E5%85%AC%E9%92%A5%E7%99%BB%E5%BD%95/" class="nav-list-link">SSH 配置公钥登录</a><li class="nav-list-item active"><a href="http://localhost:4000/docs/tools/2022-06-18-%E9%85%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%8C%E9%87%8D%E8%AE%A4%E8%AF%81%E4%BB%A5%E5%8F%8A%E5%85%AC%E9%92%A5%E8%AE%A4%E8%AF%81%E7%99%BB%E5%BD%95/" class="nav-list-link active">社交组服务器双重认证设置</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/research" class="nav-list-link">Research</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/research/2022-07-27-%E5%9B%BE%E8%A1%A8%E5%BE%81%E5%AD%A6%E4%B9%A0/" class="nav-list-link">图表征学习</a><li class="nav-list-item "><a href="http://localhost:4000/docs/research/2022-07-27-%E5%B1%82%E6%AC%A1%E5%8C%96%E5%9B%BE%E8%A1%A8%E5%BE%81%E5%AD%A6%E4%B9%A0/" class="nav-list-link">层次化图表征学习</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/python" class="nav-list-link">Python</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Python/pandas/pandas/" class="nav-list-link">Pandas</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/docs/Python/pandas/2022-05-31-Pandas%E4%BB%8EPython%20dict%E4%B8%AD%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%B9%E6%B3%95/" class="nav-list-link">Pandas 从Python dict中加载数据</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Python/Python%20codebase/python%20codebase/" class="nav-list-link">Python codebase</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/docs/Python/Python%20codebase/Python%20Google%20style%20comment/" class="nav-list-link">Python Google style comment</a><li class="nav-list-item "> <a href="http://localhost:4000/docs/Python/Python%20codebase/python%E5%A4%9A%E8%BF%9B%E7%A8%8B/" class="nav-list-link">Python 多进程</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Python/pytorch/pytorch/" class="nav-list-link">Pytorch</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/docs/Python/pytorch/Pytorch%20%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5%E5%90%88%E9%9B%86/" class="nav-list-link">PyTorch常用代码段</a></ul></ul></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Echo" aria-label="Search Echo" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://github.com/ZipGao/" class="site-button" > GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/tools">Tools</a><li class="breadcrumb-nav-list-item"><span>社交组服务器双重认证设置</span></ol></nav><div id="main-content" class="main-content" role="main"><h1 id="社交组服务器双重认证设置"> <a href="#社交组服务器双重认证设置" class="anchor-heading" aria-labelledby="社交组服务器双重认证设置"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 社交组服务器双重认证设置</h1><p>近期网络安全事故频发，且多数为弱密码、弱口令导致账户被密码被暴力破解，为了防止此类现象发生，服务器采取公钥 或 密码 + Google-Authenticator 的双重认证登录措施。需要按照以下步骤进行操作。</p><h2 id="step1-修改默认登录密码"> <a href="#step1-修改默认登录密码" class="anchor-heading" aria-labelledby="step1-修改默认登录密码"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step1 修改默认登录密码</h2><p>使用 yppasswd 命令修改默认登录密码（请严格使用强密码！！！包含数字，大小写，特殊符号，长度10位以上）即可，如已经修改，可跳过</p><h2 id="step2-2022-06-18-ssh-配置公钥登录"> <a href="#step2-2022-06-18-ssh-配置公钥登录" class="anchor-heading" aria-labelledby="step2-2022-06-18-ssh-配置公钥登录"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step2 [[2022-06-18-SSH 配置公钥登录]]</h2><h2 id="step3-下载谷歌认证器"> <a href="#step3-下载谷歌认证器" class="anchor-heading" aria-labelledby="step3-下载谷歌认证器"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step3 下载谷歌认证器</h2><p>iOS 系统可以在 App Store 搜索 Google Authenticator 并下载</p><p>Andorid 系统可以在 Google Play 搜索 Google 身份验证器 并下载。如不方便，可以在下面的链接中，下载APK文件并安装</p><p>链接：https://rec.ustc.edu.cn/share/f386dfe0-d794-11ec-8ddc-6b8674520b81密码：gofx</p><h2 id="step4-开始绑定认证器"> <a href="#step4-开始绑定认证器" class="anchor-heading" aria-labelledby="step4-开始绑定认证器"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step4 开始绑定认证器</h2><p>登录后，输入 google-authenticator，启动认证，输入 y</p><p><img src="https://docimg2.docs.qq.com/image/Up1LWeFjJ9N_6NVnCe6jvQ.png?w=990&amp;h=242" alt="" /></p><p>随后，会弹出一个二维码，如下图所示，以及对应二维码的 key，验证码，和紧急代码</p><p><img src="https://docimg4.docs.qq.com/image/9I7Ln3jA_4dLbbXBp_q4cg.png?w=1280&amp;h=891.6446124763705" alt="" /></p><p>打开下载好的 Google身份验证器，点击左下角的加号，点击扫描二维码</p><p><img src="https://docimg7.docs.qq.com/image/yoolFEz5OkMr1doYqvGUUg.png?w=1170&amp;h=2532" alt="" /></p><p>扫码后，手机上则会显示绑定的动态验证码，验证码每30s刷新一次</p><p><img src="https://docimg1.docs.qq.com/image/JXJRvmzuTF-SBpTWpv5bdA.png?w=1170&amp;h=2532" alt="" /></p><p>此外，命令行中还会出现四个y/n的问题，依次输入 y y n y （请注意确认问题是对应的，前面有可能会有额外的其他选项）以确保动态验证码的安全性</p><p><img src="https://docimg5.docs.qq.com/image/lW1Kb9tJeHTD-Y0aLFpDUQ.png?w=1280&amp;h=703.0985915492957" alt="" /></p><p>至此，完成绑定工作。</p><p>（若后续出现验证无法登录，可以通过私钥登录之后尝试重新进行这一步，并且扫描最新的二维码进行绑定）</p><h2 id="step5-登录"> <a href="#step5-登录" class="anchor-heading" aria-labelledby="step5-登录"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step5 登录</h2><p>在随后的登录中，除了输入密码外，还需要输入手机上的动态验证码，因此即使密码或公钥被爆破，动态验证码的存在依然能保证账号的安全性</p><p><img src="https://docimg8.docs.qq.com/image/yR1pusqa4gBiWHWxFGuaNQ.png?w=896&amp;h=174" alt="" /></p><p>此外需要注意，每30s只有3次输入错误（密码和验证码均包括）的机会，反复输入错误，需要等待1分钟后再尝试登录。</p><h2 id="qa"> <a href="#qa" class="anchor-heading" aria-labelledby="qa"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> QA</h2><ol><li>Q：可以不开启双重认证吗？</ol><p>A：强烈建议开启双重认证以防范攻击者的暴力破解，随着网络安全形式的变化，可能随时要求强制使用双重认证登录，届时没有开启双重认证的用户，将无法登录服务器。</p><ol><li>Q：开启双重认证后换了手机怎么办？</ol><p>A：Google 身份认证器支持导出账号，可以点击主界面右上角的三个点，选择导出账号，即可将已经绑定的双重认证导出到新手机。</p><ol><li>Q：开启双重认证后是否影响公钥登录？</ol><p>A：不影响，但需要服务器开启公钥登录。且公钥登录不需要输入验证码。</p><ol><li>Q：开启双重认证是否影响 vs code 远程开发？</ol><p>A：不影响，和普通登录相同，登录认证时除了输入密码还需要输入验证码。登录后，开发操作不受任何影响。</p><ol><li>Q：在外实习的同学重置系统后无账号，无法登陆服务器，怎么办？</ol><p>A：请返校后联系服务器管理员（谢哲勇，彭文俊）。届时再开设账号、更改目录权限和开启双重认证。</p><ol><li>Q: 是否需要在两台机器上绑定？</ol><p>A: wtf/jojo上任意一台绑定即可</p><p>如有其他疑问，欢迎大家在社交组微信群中提出，我们会补充到QA部分。</p><ol><li>Q：如何判断自己的密码强度</ol><p>A：可以参考网站 https://mimaqiangdu.bmcx.com/ 进行检测</p><ol><li>Q: 曾经进行过公钥现无法登录的（包括vscode）</ol><p>A: 若以前尝试过公钥登录vscode，那么请查看你对应的.ssh文件夹下的known_hosts文件，删除对应的登录记录（就是对应的fingerprint）（wtf是端口1500，jojo是1501）（相关问题的查询关键词：fingerprint， knownhost）</p><p>（图1为错误样例，图2、3为处理方案）</p><p><img src="https://docimg3.docs.qq.com/image/SwxW67bW5VLXbkHElPmi3g.png?w=1136&amp;h=492" alt="" /></p><p><img src="https://docimg6.docs.qq.com/image/sL0s0g1iCjCzxY2E0g_wUw.png?w=354&amp;h=302" alt="" /></p><p><img src="https://docimg2.docs.qq.com/image/9Ghv1QCdyEmlWPr94HLy8w.png?w=791&amp;h=524" alt="" /></p><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 Patrick Marsceill. Distributed by an <a href="https://github.com/just-the-docs/just-the-docs/tree/main/LICENSE.txt">MIT license.</a> <a href="https://www.netlify.com/">This site is powered by Netlify.</a></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/ZipGao//tree/main/docs/tools/2022-06-18-配置服务器双重认证以及公钥认证登录.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div>
